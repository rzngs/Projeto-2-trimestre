<svg width="600" height="600" viewBox="-90 -90 180 180">
  <defs>
    <g id="stripe">
      <path d="m-340 -80 
             q  40 9 80 0 t 80 0 80 0 80 0 80 0 80 0 80 0 80 0 80 0 
             l  10 15
             q -40 9 -80 0 t -80 0 -80 0 -80 0 -80 0 -80 0 -80 0 -80 0 -80 0
             z">
        <animateTransform type="translate" attributeName="transform" from="0 0" to="160 0" dur="2s" repeatCount="indefinite" />
      </path>
    </g>
    <clipPath id="myClip">
      <path d="m80 -240 q 5 40 0 80 t 0 80 0 80 0 80 h-160 v-320 ">
        <animateTransform type="translate" attributeName="transform" from="0 0" to="0 160" dur="1.5s" repeatCount="indefinite" />
      </path>
    </clipPath>
  </defs>
  <g id="flag" clip-path="url(#myClip)">
    <use href="#stripe" fill="red" transform="translate(10,20)" />
    <use href="#stripe" fill="orange" transform="translate(20,40)" />
    <use href="#stripe" fill="gold" transform="translate(30,60)" />
    <use href="#stripe" fill="green" transform="translate(40,80)" />
    <use href="#stripe" fill="blue" transform="translate(50,100)" />
    <use href="#stripe" fill="darkviolet" transform="translate(60,120)" />
  </g>
</svg>